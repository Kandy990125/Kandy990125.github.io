[{"title":"【Unity UI】TextMeshPro插件的使用","url":"/2022/08/06/20220806-unity-textmeshpro/","content":"<p>【Unity UI】TextMeshPro插件的使用：中文字体导入</p>\n<span id=\"more\"></span>\n\n<h1 id=\"导入TextMeshPro插件\"><a href=\"#导入TextMeshPro插件\" class=\"headerlink\" title=\"导入TextMeshPro插件\"></a>导入TextMeshPro插件</h1><p><img src=\"https://img-blog.csdnimg.cn/b84020c4a42e466eb637cef4767b98c5.png\" alt=\"在这里插入图片描述\"><br>可以选择只导入TMP Essemtials，也可以两个都导入。</p>\n<h1 id=\"导入中文字体\"><a href=\"#导入中文字体\" class=\"headerlink\" title=\"导入中文字体\"></a>导入中文字体</h1><p>把ttf文件拖入文件夹中。</p>\n<h1 id=\"Window-gt-Text-Mesh-Pro-gt-Font-Asset-Creator\"><a href=\"#Window-gt-Text-Mesh-Pro-gt-Font-Asset-Creator\" class=\"headerlink\" title=\"Window-&gt;Text Mesh Pro-&gt;Font Asset Creator\"></a>Window-&gt;Text Mesh Pro-&gt;Font Asset Creator</h1><p>打开窗口，然后按照如图所示的内容选择，CharacterFile.txt中写了需要用的字，牢记要把txt文件存成UTF-8编码格式。<br><img src=\"https://img-blog.csdnimg.cn/8af637d57d0d4739ab395cfd060d7f51.png\" alt=\"在这里插入图片描述\"></p>\n<p>完成后点击Generate Font Atlas按钮，然后拉到下方Save文件。<br>选择TextMeshPro UI组件，设置字体：<br><img src=\"https://img-blog.csdnimg.cn/791745c4678b430c89aacd97ab1b27a6.jpeg\" alt=\"在这里插入图片描述\"></p>\n<h1 id=\"脚本更改文字内容\"><a href=\"#脚本更改文字内容\" class=\"headerlink\" title=\"脚本更改文字内容\"></a>脚本更改文字内容</h1><figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> TextMeshProUGUI Text;</span><br><span class=\"line\"></span><br><span class=\"line\">Text = transform.Find(<span class=\"string\">&quot;Canvas&quot;</span>).Find(<span class=\"string\">&quot;Image&quot;</span>).Find(<span class=\"string\">&quot;Text&quot;</span>).GetComponent&lt;TextMeshProUGUI&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">Text.text = <span class=\"string\">&quot;提示&quot;</span>;</span><br></pre></td></tr></table></figure>\n<h1 id=\"问题解决\"><a href=\"#问题解决\" class=\"headerlink\" title=\"问题解决\"></a>问题解决</h1><h2 id=\"缺失中文字\"><a href=\"#缺失中文字\" class=\"headerlink\" title=\"缺失中文字\"></a>缺失中文字</h2><p><a href=\"https://blog.csdn.net/u010314160/article/details/100700596\">中文字符集</a><br>确实字符集显示口，可能是由于复制时产生的编码问题，对于缺失的字新建一个txt，手动输入字，存储为UTF-编码格式，生成新的Unity字体。<br>在要使用的字体中加入备用字体：<br><img src=\"https://img-blog.csdnimg.cn/2507a892a9484e969c3594b8f00daf87.png\" alt=\"在这里插入图片描述\"></p>\n","categories":["Unity"],"tags":["Unity UI"]},{"title":"【Unity UI】RawImage淡入淡出效果","url":"/2022/08/06/20220806-unity-ui-fadeinout/","content":"<p>【Unity UI】RawImage淡入淡出效果：脚本控制透明度</p>\n<span id=\"more\"></span>\n\n\n<p>RawImage有四个属性，rgb a，a代表alpha可以控制透明度。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> UnityEngine;</span><br><span class=\"line\"><span class=\"keyword\">using</span> UnityEngine.SceneManagement;</span><br><span class=\"line\"><span class=\"keyword\">using</span> UnityEngine.UI;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SceneFadeInOut</span> : <span class=\"title\">MonoBehaviour</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> SceneFadeInOut Instance;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">float</span> fadeSpeed = <span class=\"number\">1.5f</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">bool</span> isFadeIn = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">bool</span> isFadeOut = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> RawImage rawImage;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Awake</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        rawImage = GetComponent&lt;RawImage&gt;();</span><br><span class=\"line\">        Instance = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">        SetRawImageActive(<span class=\"literal\">false</span>);</span><br><span class=\"line\">        <span class=\"comment\">// SetSceneToBlack();</span></span><br><span class=\"line\">        <span class=\"comment\">// SetSceneToClear();</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Update</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (isFadeIn) FadeIn();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (isFadeOut) FadeOut();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetSceneToBlack</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        rawImage.color = <span class=\"keyword\">new</span> Color(Color.white.a, Color.white.b, Color.white.g, <span class=\"number\">0f</span>);</span><br><span class=\"line\">        isFadeIn = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        isFadeOut = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetSceneToClear</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        rawImage.color = Color.black;</span><br><span class=\"line\">        isFadeIn = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        isFadeOut = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetRawImageActive</span>(<span class=\"params\"><span class=\"built_in\">bool</span> isActive</span>)</span> &#123; rawImage.gameObject.SetActive(isActive); &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">FadeToClear</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 黑色 透明度为 100% --&gt; 白色 透明度为 0%</span></span><br><span class=\"line\">        rawImage.color = Color.Lerp(rawImage.color, Color.clear, fadeSpeed * Time.deltaTime);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">FadeToBlack</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 白色 透明度为 0% --&gt; 黑色 透明度为 100%</span></span><br><span class=\"line\">        rawImage.color = Color.Lerp(rawImage.color, Color.black, fadeSpeed * Time.deltaTime);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"comment\">// 屏幕变亮</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">FadeIn</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        FadeToClear();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (rawImage.color.a &lt;= <span class=\"number\">0.05f</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            rawImage.color = Color.clear;</span><br><span class=\"line\">            rawImage.enabled = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            isFadeIn = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"comment\">// 屏幕变暗</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">FadeOut</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        rawImage.enabled = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        FadeToBlack();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (rawImage.color.a &gt;= <span class=\"number\">0.95f</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            rawImage.color = Color.black;</span><br><span class=\"line\">            rawImage.enabled = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            isFadeOut = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","categories":["Unity"],"tags":["Unity UI"]}]